{"version":3,"sources":["components/ErrorBoundary/index.tsx","components/Footer/index.tsx","components/Header/index.tsx","components/Menu/MenuItem.tsx","components/Menu/MenuBlock.tsx","components/Menu/index.tsx","components/UserBlock/index.tsx","components/PlayListPanel/PlayListItem.tsx","components/PlayListPanel/index.tsx","api/request.ts","api/account/login.ts","pages/Home/index.tsx","config/routerConfig.ts","components/AudioPlayer/index.ts","pages/index.tsx","hooks/useAudioPlay.ts","store/types.ts","store/state.ts","store/reducer.ts","store/store.ts","App.tsx","reportWebVitals.ts","index.tsx"],"names":["ErrorBoundary","state","hasError","error","errorInfo","console","info","this","style","height","background","color","textAlign","props","children","React","Component","Footer","dispatch","useDispatch","useState","percent","setPercent","showPlayListPanel","useSelector","app","useEffect","timer","setInterval","clearInterval","className","strokeLinecap","showInfo","src","alt","HeartOutlined","StepBackwardOutlined","PlayCircleOutlined","size","StepForwardOutlined","ShareAltOutlined","onClick","type","payload","Header","LeftOutlined","log","RightOutlined","marginLeft","map","menu","handleMenuClick","placeholder","prefix","SearchOutlined","SettingOutlined","MailOutlined","SkinOutlined","SwitcherOutlined","memo","MenuItem","Icon","icon","title","MenuBlock","data","entry","Menu","entryList","UserBlock","avatar","name","PlayListItem","author","duration","time","minute","Math","floor","second","String","padStart","getTime","PlayListPanel","Array","from","length","song","index","request","axios","create","baseURL","timeout","headers","login","phone","password","a","get","interceptors","use","config","response","Home","currentResource","window","PlayerState","routers","path","component","AudioPlayer","currentState","Stopped","instance","Playing","Pause","EventEmitter","Pages","player","init","destroy","Fragment","routerConfig","element","initialState","user","nickname","token","combineReducers","action","store","createStore","subscribe","getState","App","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.6f9f3254.chunk.js","sourcesContent":["import React from \"react\";\n\ninterface Props {\n  children: JSX.Element;\n}\n\ninterface State {\n  hasError: boolean;\n}\n\nclass ErrorBoundary extends React.Component<Props, State> {\n  state = {\n    hasError: false,\n  };\n\n  static getDerivedStateFromError(): State {\n    // Update state so the next render will show the fallback UI.\n    return { hasError: true };\n  }\n\n  componentDidCatch(error: Error, errorInfo: React.ErrorInfo): void {\n    // You can also log the error to an error reporting service\n    console.info(\"ErrorBoundary Catched\");\n    console.error(error, errorInfo);\n  }\n\n  render(): JSX.Element {\n    if (this.state.hasError) {\n      return (\n        <div\n          style={{\n            height: \"100%\",\n            background: \"black\",\n            color: \"#fff\",\n            textAlign: \"center\",\n          }}\n        >\n          抱歉，程序出错\n        </div>\n      );\n    }\n\n    return this.props.children;\n  }\n}\n\nexport default ErrorBoundary;\n","import React, { useEffect, useState } from \"react\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { Progress } from \"antd\";\n\nimport {\n  HeartOutlined,\n  StepBackwardOutlined,\n  StepForwardOutlined,\n  PlayCircleOutlined,\n  ShareAltOutlined,\n} from \"@ant-design/icons\";\nimport \"./style.less\";\n\ninterface State {\n  app: {\n    showPlayListPanel: boolean;\n  };\n}\n\nfunction Footer() {\n  const dispatch = useDispatch();\n\n  const [percent, setPercent] = useState(0);\n\n  const showPlayListPanel = useSelector(\n    (state: State) => state.app.showPlayListPanel\n  );\n\n  const handleTogglePanel = () => {\n    dispatch({\n      type: \"togglePanel\",\n      payload: {\n        showPlayListPanel: !showPlayListPanel,\n      },\n    });\n  };\n\n  useEffect(() => {\n    const timer = setInterval(() => {\n      setPercent((percent) => {\n        if (percent >= 100) {\n          return 0;\n        }\n        return percent + 1;\n      });\n    }, 1000);\n\n    return () => {\n      clearInterval(timer);\n    };\n  }, []);\n\n  return (\n    <footer className=\"footer-container\">\n      {/* 进度条，mock */}\n      <Progress\n        className=\"progress-bar\"\n        strokeLinecap=\"square\"\n        showInfo={false}\n        percent={percent}\n      />\n\n      {/* 音乐信息 */}\n      <div className=\"music-info-block\">\n        <div className=\"music-info\">\n          <img className=\"cover\" src=\"\" alt=\"\" />\n          <div className=\"info\">\n            <p className=\"name\">asdasd</p>\n            <p className=\"time-range\">10:11/12:10</p>\n          </div>\n        </div>\n\n        {/* 播放控制 */}\n        <div className=\"play-control-block\">\n          <HeartOutlined />\n          <StepBackwardOutlined />\n          <PlayCircleOutlined size={40} />\n          <StepForwardOutlined />\n          <ShareAltOutlined />\n        </div>\n\n        {/* footer工具栏 */}\n        <div className=\"toolbar-block\">\n          <ShareAltOutlined />\n          <ShareAltOutlined />\n          <ShareAltOutlined onClick={handleTogglePanel} />\n          <ShareAltOutlined />\n          <ShareAltOutlined />\n        </div>\n      </div>\n    </footer>\n  );\n}\n\nexport default Footer;\n","import React from \"react\";\nimport {\n  LeftOutlined,\n  RightOutlined,\n  SettingOutlined,\n  MailOutlined,\n  SkinOutlined,\n  SwitcherOutlined,\n  SearchOutlined,\n} from \"@ant-design/icons\";\nimport { Input } from \"antd\";\nimport \"./style.less\";\n\ninterface Props {\n  [key: string]: any;\n}\n\nfunction Header(props: Props) {\n  const handleLeft = () => {\n    console.log(\"left\");\n  };\n\n  const handleRight = () => {\n    console.log(\"right\");\n  };\n\n  const menuList = [\n    \"个性推荐\",\n    \"歌单\",\n    \"主播电台\",\n    \"排行榜\",\n    \"歌手\",\n    \"最新音乐\",\n  ];\n\n  const handleMenuClick = (menu: string) => {\n    console.log(\"menu\", menu);\n  };\n\n  return (\n    <header className=\"header-container\">\n      <div className=\"navigate-block\">\n        <LeftOutlined onClick={handleLeft} />\n        <RightOutlined style={{ marginLeft: 10 }} onClick={handleRight} />\n      </div>\n\n      <div className=\"menu-block\">\n        {menuList.map((menu) => (\n          <span\n            className=\"menu-item\"\n            key=\"menu\"\n            onClick={() => handleMenuClick(menu)}\n          >\n            {menu}\n          </span>\n        ))}\n      </div>\n\n      {/* search  */}\n      <Input\n        className=\"search\"\n        placeholder=\"搜索\"\n        prefix={<SearchOutlined />}\n        size=\"small\"\n      />\n\n      {/* toolbar  */}\n      <div className=\"toolbar-block\">\n        <SettingOutlined />\n        <MailOutlined />\n        <SkinOutlined />\n        <SwitcherOutlined />\n      </div>\n    </header>\n  );\n}\n\nexport default React.memo(Header);\n","import React from \"react\";\n\nimport \"./style.less\";\n\ninterface Props {\n  icon?: any;\n  title: string;\n}\n\nfunction MenuItem(props: Props) {\n  const { icon: Icon, title } = props;\n\n  return (\n    <div className=\"menu-item\">\n      {Icon && <Icon />}\n      <span>{title}</span>\n    </div>\n  );\n}\n\nexport default React.memo(MenuItem);\n","import React from \"react\";\nimport MenuItem from \"./MenuItem\";\nimport { StepForwardOutlined } from \"@ant-design/icons\";\nimport \"./style.less\";\n\ninterface Props {\n  data: any[];\n  title?: string;\n}\n\nfunction MenuBlock(props: Props) {\n  const { data, title } = props;\n\n  return (\n    <>\n      {title && <p className=\"menu-block-title\">{title}</p>}\n      <div className=\"menu-block\">\n        {data.map((entry: string) => (\n          <MenuItem icon={StepForwardOutlined} key={entry} title={entry} />\n        ))}\n      </div>\n    </>\n  );\n}\n\nexport default React.memo(MenuBlock);\n","import React from \"react\";\nimport MenuBlock from \"./MenuBlock\";\n\nimport \"./style.less\";\n\nfunction Menu() {\n  const entryList = [\"发现音乐\", \"私人FM\", \"视频\", \"朋友\"];\n\n  const myMusicList = [\n    \"本地音乐\",\n    \"下载管理\",\n    \"我的音乐云盘\",\n    \"我的电台\",\n    \"我的收藏\",\n  ];\n\n  return (\n    <div className=\"menu-block-container\">\n      <MenuBlock data={entryList} />\n      <MenuBlock title={\"我的音乐\"} data={myMusicList} />\n      <MenuBlock title={\"创建的歌单\"} data={entryList} />\n    </div>\n  );\n}\n\nexport default React.memo(Menu);\n","import React from \"react\";\n\nimport \"./style.less\";\n\ninterface Props {\n  avatar: string;\n  name: string;\n}\n\nfunction UserBlock(props: Props) {\n  const { avatar, name } = props;\n\n  return (\n    <div className=\"user-block\">\n      <img src={avatar} alt=\"\" />\n      <span>{name}</span>\n    </div>\n  );\n}\n\nexport default React.memo(UserBlock);\n","import React from \"react\";\nimport moment from \"moment\";\nimport \"./style.less\";\n\ninterface Props {\n  name: string;\n  author: string;\n  duration: number;\n}\n\nfunction PlayListItem(props: Props) {\n  const { name, author, duration } = props;\n\n  const getTime = (time: number): string => {\n    const minute = Math.floor(time / 60);\n    const second = time - minute * 60;\n\n    return `${String(minute).padStart(2)}:${String(second).padStart(2)}`;\n  };\n\n  return (\n    <div className=\"play-list-item\">\n      <span className=\"name\">{name}</span>\n      <span className=\"author\">{author}</span>\n      <span className=\"duration\">{getTime(duration)}</span>\n    </div>\n  );\n}\n\nexport default React.memo(PlayListItem);\n","import React from \"react\";\nimport { useSelector } from \"react-redux\";\nimport PlayListItem from \"./PlayListItem\";\n\n// interface Props {\n//   visible: boolean;\n// }\n\ninterface State {\n  app: {\n    showPlayListPanel: boolean;\n  };\n}\n\nfunction PlayListPanel() {\n  const showPlayListPanel = useSelector(\n    (state: State) => state.app.showPlayListPanel\n  );\n\n  if (!showPlayListPanel) {\n    return null;\n  }\n\n  return (\n    <div className=\"play-list-panel-container\">\n      <div className=\"panel-tab-bar\">\n        <span className=\"tab-item\">播放列表</span>\n        <span className=\"tab-item\">历史记录</span>\n      </div>\n\n      <div className=\"play-list-container\">\n        {Array.from({ length: 10 }).map((song, index: number) => (\n          <PlayListItem\n            key={index}\n            name=\"name\"\n            author=\"author\"\n            duration={index * 45}\n          />\n        ))}\n      </div>\n    </div>\n  );\n}\n\nexport default React.memo(PlayListPanel);\n","import axios, { AxiosError, AxiosRequestConfig, AxiosResponse } from \"axios\";\r\n\r\nexport const request = axios.create({\r\n  // baseURL: \"http://localhost:4000\",\r\n  baseURL: \"http://192.168.31.105:4000\",\r\n  timeout: 10000,\r\n  headers: { \"Content-Type\": \"application/json\" },\r\n});\r\n\r\nrequest.interceptors.request.use((config: AxiosRequestConfig):\r\n  | AxiosRequestConfig\r\n  | Promise<AxiosRequestConfig> => {\r\n  console.log(\"config\", config);\r\n\r\n  return config;\r\n});\r\n\r\nrequest.interceptors.response.use(\r\n  (response: AxiosResponse) => {\r\n    console.log(\"response\", response);\r\n\r\n    return response;\r\n  },\r\n  (error: AxiosError) => {\r\n    console.log(\"error\", error);\r\n  }\r\n);\r\n","import { request } from \"../request\";\r\n\r\nexport default async function login(\r\n  phone: number,\r\n  password: string\r\n): Promise<any> {\r\n  const data = await request.get(\r\n    `/login/cellphone?phone=${phone}&password=${password}`\r\n  );\r\n  console.log(\"data\", data);\r\n\r\n  return data;\r\n}\r\n","import React, { useEffect } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport {\n  Header,\n  Footer,\n  Menu,\n  UserBlock,\n  PlayListPanel,\n} from \"../../components\";\nimport \"./index.less\";\nimport { login } from \"../../api\";\nimport { Button } from \"antd\";\n\nconst avatar = `https://gimg2.baidu.com/image_search/src=http%3A%2F%2Fpic1.zhimg.com%2F50%2Fv2-e73ebe5fb7fbae39d69ed94dcc82f145_hd.jpg&refer=http%3A%2F%2Fpic1.zhimg.com&app=2002&size=f9999,10000&q=a80&n=0&g=0n&fmt=jpeg?sec=1623170567&t=acc91ce2476dd69ad2f9941b388aab59`;\n\ninterface State {\n  app: {\n    currentResource: any;\n  };\n}\n\nexport default function Home() {\n  const dispatch = useDispatch();\n\n  const currentResource = useSelector(\n    (state: State) => state.app.currentResource\n  );\n\n  useEffect(() => {\n    console.log(\"currentResource\", currentResource);\n  }, [currentResource]);\n\n  const handleClick = () => {\n    dispatch({\n      type: \"INCREMENT\",\n      payload: {\n        data: 1,\n      },\n    });\n  };\n\n  // eslint-disable-next-line\n  // @ts-ignore\n  window.login = login;\n\n  return (\n    <>\n      <div className=\"main-container\">\n        <Header></Header>\n        <main className=\"main\">\n          <div className=\"left-panel\">\n            <UserBlock avatar={avatar} name=\"yorshka\" />\n            <Menu />\n          </div>\n          <div className=\"main-content\">\n            main-content\n            <Button onClick={handleClick}>hello</Button>\n          </div>\n        </main>\n        <Footer></Footer>\n      </div>\n\n      {/* absolute component */}\n      <PlayListPanel />\n    </>\n  );\n}\n","import React from \"react\";\nimport Home from \"../pages/Home\";\n\ninterface RouterComponent {\n  name: string;\n  path: string;\n  component: React.FC;\n}\n\nconst routers: RouterComponent[] = [\n  {\n    name: \"home\",\n    path: \"/home\",\n    component: Home,\n  },\n  {\n    name: \"index\",\n    path: \"/\",\n    component: Home,\n  },\n];\n\nexport default routers;\n","import EventEmitter from \"events\";\nimport axios from \"axios\";\n\nenum PlayerState {\n  Playing,\n  Pause,\n  Stopped,\n}\n\n/**\n * 音频播放器\n * 单例，全局控制\n *\n * @export\n * @class AudioPlayer\n * @extends {EventEmitter}\n */\nexport default class AudioPlayer extends EventEmitter {\n  static instance: AudioPlayer;\n\n  private currentResource: any = \"\";\n  private currentState: PlayerState = PlayerState.Stopped;\n\n  // private audio: AudioNode\n\n  private timer: NodeJS.Timeout | undefined;\n\n  constructor() {\n    super();\n\n    if (AudioPlayer.instance) {\n      return AudioPlayer.instance;\n    }\n\n    this.currentResource = \"\";\n    this.currentState = PlayerState.Stopped;\n\n    AudioPlayer.instance = this;\n\n    return AudioPlayer.instance;\n  }\n\n  public init(): void {\n    this.currentState = PlayerState.Stopped;\n\n    console.log(this.currentState);\n    console.log(this.currentResource);\n\n    this.timer = setInterval(() => {\n      console.log(\"tick from audioplayer\");\n    }, 1000);\n  }\n\n  public destroy(): void {\n    this.currentState = PlayerState.Stopped;\n    this.currentResource = \"\";\n\n    clearInterval(this.timer as NodeJS.Timeout);\n\n    console.log(\"audio player destroyed\");\n  }\n\n  public next(): void {\n    this.currentState = PlayerState.Playing;\n  }\n\n  public prev(): void {\n    this.currentState = PlayerState.Playing;\n  }\n\n  public play(): void {\n    this.currentState = PlayerState.Playing;\n  }\n\n  public pause(): void {\n    this.currentState = PlayerState.Pause;\n  }\n\n  public stop(): void {\n    this.currentState = PlayerState.Stopped;\n  }\n}\n","import React, { useEffect } from \"react\";\nimport { Switch, Route } from \"react-router-dom\";\nimport { ErrorBoundary } from \"../components\";\nimport routerConfig from \"../config/routerConfig\";\nimport { useAudioPlay } from \"../hooks\";\n\nexport default function Pages(): JSX.Element {\n  // 播放器钩子\n  useAudioPlay();\n\n  useEffect(() => {\n    // setInterval(() => console.log(1), 1000);\n  }, []);\n\n  return (\n    <React.Fragment>\n      <ErrorBoundary>\n        <Switch>\n          {routerConfig.map((element) => (\n            <Route path={element.path} key={element.path}>\n              <element.component />\n            </Route>\n          ))}\n        </Switch>\n      </ErrorBoundary>\n\n      {/* global component  */}\n    </React.Fragment>\n  );\n}\n","import { useEffect } from \"react\";\nimport AudioPlayer from \"../components/AudioPlayer\";\n\nexport default function useAudioPlay(): void {\n  useEffect(() => {\n    const player = new AudioPlayer();\n    player.init();\n\n    return () => {\n      player.destroy();\n    };\n  }, []);\n}\n","export interface State {\n  // 当前资源\n  currentResource?: any;\n  // 用户信息\n  user: {\n    token: string;\n    avatar: string;\n    nickname: string;\n  };\n  // 是否展示歌曲列表\n  showPlayListPanel: boolean;\n}\n\ninterface SongInfo {\n  id: string;\n  name: string;\n  url: string;\n  cover?: string;\n}\n\nexport const GET_SONG_INFO = \"GET_SONG_INFO\";\n\ninterface Action {\n  type: string;\n  payload?: any;\n}\n\nexport type ActionType = Action;\n","import { State } from \"./types\";\n\nconst initialState: State = {\n  currentResource: 0,\n  user: {\n    nickname: \"\",\n    token: \"\",\n    avatar: \"\",\n  },\n  showPlayListPanel: false,\n};\n\nexport default initialState;\n","import { combineReducers } from \"redux\";\nimport { State, ActionType } from \"./types\";\nimport initialState from \"./state\";\n\nconst reducer = function (\n  state: State = initialState,\n  action: ActionType\n): State {\n  switch (action.type) {\n    case \"INCREMENT\": {\n      const { data } = action.payload;\n      const currentResource = state.currentResource + data;\n      return {\n        ...state,\n        currentResource,\n      };\n    }\n    case \"DECREMENT\":\n      return {\n        ...state,\n        currentResource: \"-1\",\n      };\n    case \"togglePanel\": {\n      const { showPlayListPanel } = action.payload;\n      return {\n        ...state,\n        showPlayListPanel,\n      };\n    }\n    default:\n      return state;\n  }\n};\n\nexport default combineReducers({\n  app: reducer,\n});\n","import { createStore } from \"redux\";\n/**\n * This is a reducer - a function that takes a current state value and an\n * action object describing \"what happened\", and returns a new state value.\n * A reducer's function signature is: (state, action) => newState\n *\n * The Redux state should contain only plain JS objects, arrays, and primitives.\n * The root state value is usually an object.  It's important that you should\n * not mutate the state object, but return a new object if the state changes.\n *\n * You can use any conditional logic you want in a reducer. In this example,\n * we use a switch statement, but it's not required.\n */\nimport combineReducers from \"./reducer\";\n\n// Create a Redux store holding the state of your app.\n// Its API is { subscribe, dispatch, getState }.\nexport const store = createStore(combineReducers);\n\n// You can use subscribe() to update the UI in response to state changes.\n// Normally you'd use a view binding library (e.g. React Redux) rather than subscribe() directly.\n// There may be additional use cases where it's helpful to subscribe as well.\n\nstore.subscribe(() => console.log(store.getState()));\n\n// The only way to mutate the internal state is to dispatch an action.\n// The actions can be serialized, logged or stored and later replayed.\n// store.dispatch({ type: \"counter/incremented\" });\n// {value: 1}\n// store.dispatch({ type: \"counter/incremented\" });\n// {value: 2}\n// store.dispatch({ type: \"counter/decremented\" });\n// {value: 1}\n","import React from \"react\";\nimport { HashRouter } from \"react-router-dom\";\nimport Pages from \"./pages\";\nimport { Provider } from \"react-redux\";\nimport { store } from \"./store\";\n\nimport \"./App.less\";\n\nfunction App(): JSX.Element {\n  // eslint-disable-next-line\n  // @ts-ignore\n  window.store = store;\n\n  return (\n    <Provider store={store}>\n      <HashRouter>\n        <Pages />\n      </HashRouter>\n    </Provider>\n  );\n}\n\nexport default App;\n","import { ReportHandler } from \"web-vitals\";\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import(\"web-vitals\").then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport reportWebVitals from \"./reportWebVitals\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}